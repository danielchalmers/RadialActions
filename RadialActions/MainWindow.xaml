<Window x:Class="RadialActions.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:RadialActions"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:p="clr-namespace:RadialActions.Properties"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        Title="Radial Actions"
        d:DataContext="{d:DesignInstance Type=local:MainWindow}"
        AllowsTransparency="True" Background="Transparent"
        Deactivated="Window_Deactivated" KeyDown="Window_KeyDown"
        Loaded="Window_Loaded" Opacity="0"
        ResizeMode="NoResize" ShowInTaskbar="False"
        SizeToContent="WidthAndHeight"
        Topmost="True" Unloaded="Window_Unloaded"
        WindowStyle="None"
        mc:Ignorable="d">
    <Window.Resources>
        <Storyboard x:Key="FadeInStoryboard">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             Duration="{StaticResource RadialMenuFadeInDuration}"
                             EasingFunction="{StaticResource RadialMenuEaseOut}"
                             To="1" />
        </Storyboard>

        <Storyboard x:Key="FadeOutStoryboard"
                    Completed="FadeOutStoryboard_Completed">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             Duration="{StaticResource RadialMenuFadeOutDuration}"
                             EasingFunction="{StaticResource RadialMenuEaseIn}"
                             To="0" />
        </Storyboard>

        <ContextMenu x:Key="MainContextMenu" x:Shared="False">
            <MenuItem Header="_Settings"
                      Command="{Binding OpenSettingsWindowCommand}"
                      CommandParameter="0">
                <MenuItem.Icon>
                    <TextBlock Text="&#xE713;"
                               FontFamily="Segoe MDL2 Assets" />
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Header="_Actions"
                      Command="{Binding OpenSettingsWindowCommand}"
                      CommandParameter="1">
                <MenuItem.Icon>
                    <TextBlock Text="&#xE7FC;"
                               FontFamily="Segoe MDL2 Assets" />
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Header="Ad_vanced"
                      Command="{Binding OpenSettingsWindowCommand}"
                      CommandParameter="2">
                <MenuItem.Icon>
                    <TextBlock Text="&#xE9CE;"
                               FontFamily="Segoe MDL2 Assets" />
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Header="_Help"
                      Command="{Binding OpenSettingsWindowCommand}"
                      CommandParameter="3">
                <MenuItem.Icon>
                    <TextBlock Text="&#xE897;"
                               FontFamily="Segoe MDL2 Assets" />
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Header="E_xit"
                      Command="{Binding ExitCommand}">
                <MenuItem.Icon>
                    <TextBlock Text="&#xE8BB;"
                               FontFamily="Segoe MDL2 Assets" />
                </MenuItem.Icon>
            </MenuItem>
        </ContextMenu>

        <tb:TaskbarIcon x:Key="TrayIcon" x:Shared="False"
                        IconSource="RadialActions.ico" MenuActivation="RightClick"
                        TrayLeftMouseDoubleClick="OnTrayLeftMouseDoubleClick"
                        TrayLeftMouseDown="OnTrayLeftMouseDown" />
    </Window.Resources>

    <local:PieControl Width="{Binding Size, Source={x:Static p:Settings.Default}}"
                        Height="{Binding Size, Source={x:Static p:Settings.Default}}"
                        CenterClicked="OnCenterClicked"
                        SliceClicked="OnSliceClicked" SliceEditRequested="OnSliceEditRequested"
                        Slices="{Binding Actions, Source={x:Static p:Settings.Default}}" />
</Window>
